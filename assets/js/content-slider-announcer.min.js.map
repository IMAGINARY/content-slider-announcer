{"version":3,"sources":["content-slider-announcer.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","IMAGINARY","ContentSliderAnnouncer","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Durden","s","h","l","__esModule","default","enumerable","configurable","writable","Object","defineProperty","key","value","Math","floor","random","TWEEN","Tween","last","to","easing","Easing","Cubic","In","onUpdate","setVisibility","start","prototype","shuffle","tiling","getAllTiles","getAllSuperTiles","setTileVisibilityAnimated","getShuffledTiles","getShuffledSuperTiles","forEach","path","opacity","superTiles","group","bounds","center","m","min","x","max","y","paper","Rectangle","from","Point","arguments","MIN_ANGLE","MAX_ANGLE","angle","Sinusoidal","InOut","transformTiles","bcdeLen","repeat","yoyo","transform","getBounds","view","getViewSize","width","height","setScaling","setCenter","getCenter","setStroke","tile1","fillColor","tile2","tile3","tile4","TypeError","canvas","document","createElement","appendChild","setup","applyMatrix","update","on","MAX_B","MIN_B","Themes","RGB","Spring","Flowers","Autumn","Winter","Christmas","./tiling","2","copyShape","rotate","vE","subtract","vA","getAngle","translate","vD","vC","get","localToParent","vB","Group","./tile","3","segments","sin","PI","sqrt","cos","asin","point","set","add","strokeWidth","strokeColor","setMatrix","getMatrix","Path","closed","scale","4","push","rotation","sww","nne","south","west","multiply","createMatrix","./supertile","TextPoster","render","container","text","options","undefined","_Object$assign","assign","maxLineHeight","minLineHeight","lineSpacing","firstChild","removeChild","lineContainer","classList","append","lastHeight","split","filter","each","line","lineText","smallText","trim","substr","words","fromWord","toWord","lineElement","sizeFactor","textContent","slice","join","clientWidth","clientHeight","style","left","concat","top","_defineProperties","target","props","descriptor","AnnouncerFrame","instance","Constructor","_classCallCheck","busy","visible","wrapper","iframe","hideTimeout","protoProps","staticProps","_createClass","announcerSrc","_this","userOptions","duration","setAttribute","addEventListener","contentWindow","postMessage","type","eventMask","hide","querySelector","setTimeout","clearTimeoutTimer","_this2","HIDE_DELAY","destroyFrame","remove","clearTimeout","_durden","_interopRequireDefault","_textPoster","obj","Announcer","bgContainer","txtContainer","tiler","runningTween","defaultOptions","tilesAcross","tilesVertically","startAngle","endAngle","fadeInDuration","transformLoopDuration","themes","colorTilesPeriodic","DEFAULT_COLORS","selectTheme","setTileVisibility","showTilesRandom","onComplete","transformTilesAnimated","themeName","theme","mode","colors","Array","colorSuperTilesRandom","colorSuperTilesPeriodic","colorTilesRandom","stop","hideSuperTilesOrdered","@imaginary-maths/durden","@imaginary-maths/text-poster","5","_announcer","_announcerFrame","announcerFrame","initFrame","announcer","event","data","_event$data","announce","createAnnouncement","show","hideAnnouncement","hideAnnouncementNow","hideNow","./announcer","./announcer-frame"],"mappings":"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","file":"content-slider-announcer.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.IMAGINARY || (g.IMAGINARY = {})).ContentSliderAnnouncer = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global){\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).Durden=t()}}(function(){return function s(r,a,o){function u(e,t){if(!a[e]){if(!r[e]){var i=\"function\"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);var n=new Error(\"Cannot find module '\"+e+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var l=a[e]={exports:{}};r[e][0].call(l.exports,function(t){return u(r[e][1][t]||t)},l,l.exports,s,r,a,o)}return a[e].exports}for(var h=\"function\"==typeof require&&require,t=0;t<o.length;t++)u(o[t]);return u}({1:[function(t,e,i){\"use strict\";var n,l=(n=t(\"./tiling\"))&&n.__esModule?n:{default:n};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function o(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:o.MAX_ANGLE;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),this.canvas=window.document.createElement(\"canvas\"),t.appendChild(this.canvas),paper.setup(this.canvas),paper.view.applyMatrix=!1,this.tiling=new l.default(e,i),this.bcdeLen=50,this.transformTiles(this.bcdeLen,n,!0),paper.view.update(),paper.view.on(\"frame\",function(){TWEEN.update()})}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(o,[{key:\"getShuffledTiles\",value:function(){return o.shuffle(this.tiling.getAllTiles())}},{key:\"getShuffledSuperTiles\",value:function(){return o.shuffle(this.tiling.getAllSuperTiles())}},{key:\"showTilesRandom\",value:function(t){return o.setTileVisibilityAnimated(this.getShuffledTiles(),!0,t)}},{key:\"showSuperTilesRandom\",value:function(t){return o.setTileVisibilityAnimated(this.getShuffledSuperTiles(),!0,t)}},{key:\"hideTilesRandom\",value:function(t){return o.setTileVisibilityAnimated(this.getShuffledTiles(),!1,t)}},{key:\"hideSuperTilesRandom\",value:function(t){return o.setTileVisibilityAnimated(this.getShuffledSuperTiles(),!1,t)}},{key:\"showTilesOrdered\",value:function(t){return o.setTileVisibilityAnimated(this.tiling.getAllTiles(),!0,t)}},{key:\"hideTilesOrdered\",value:function(t){return o.setTileVisibilityAnimated(this.tiling.getAllTiles(),!1,t)}},{key:\"showSuperTilesOrdered\",value:function(t){return o.setTileVisibilityAnimated(this.tiling.getAllSuperTiles(),!0,t)}},{key:\"hideSuperTilesOrdered\",value:function(t){return o.setTileVisibilityAnimated(this.tiling.getAllSuperTiles(),!1,t)}},{key:\"setTileVisibility\",value:function(e){this.tiling.getAllTiles().forEach(function(t){t.path.opacity=e?1:0})}},{key:\"getBounds\",value:function(){var t=this.tiling.superTiles[0][0].group.bounds.center,e=this.tiling.superTiles[0][this.tiling.m-1].group.bounds.center,i=this.tiling.superTiles[this.tiling.n-1][0].group.bounds.center,n=this.tiling.superTiles[this.tiling.n-1][this.tiling.m-1].group.bounds.center,l=Math.min(t.x,i.x),s=Math.max(e.x,n.x),r=Math.min(t.y,e.y,i.y,n.y),a=Math.max(t.y,e.y,i.y,n.y);return new paper.Rectangle({from:new paper.Point(l,r),to:new paper.Point(s,a)})}},{key:\"transformTilesAnimated\",value:function(t,e,i,n){var l=this,s=1<arguments.length&&void 0!==e?e:o.MIN_ANGLE,r=2<arguments.length&&void 0!==i?i:o.MAX_ANGLE,a=3<arguments.length&&void 0!==n&&n;return new TWEEN.Tween({angle:s}).to({angle:r},t).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(t){l.transformTiles(l.bcdeLen,t.angle,a)}).repeat(1/0).yoyo(!0).start()}},{key:\"transformTiles\",value:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i;this.tiling.transform(t,e);var l=this.getBounds();n&&(paper.view.getViewSize().width>l.width||(paper.view.getViewSize().height,l.height),paper.view.setScaling(Math.max(paper.view.getViewSize().width/l.width,paper.view.getViewSize().height/l.height))),paper.view.setCenter(l.getCenter())}},{key:\"setStroke\",value:function(e,i){this.tiling.getAllTiles().forEach(function(t){t.setStroke(e,i)})}},{key:\"colorSuperTilesRandom\",value:function(i){this.tiling.getAllSuperTiles().forEach(function(t){var e=i[Math.floor(Math.random()*i.length)];t.tile1.path.fillColor=e,t.tile2.path.fillColor=e,t.tile3.path.fillColor=e,t.tile4.path.fillColor=e})}},{key:\"colorTilesRandom\",value:function(e){this.tiling.getAllTiles().forEach(function(t){t.path.fillColor=e[Math.floor(Math.random()*e.length)]})}},{key:\"colorTilesPeriodic\",value:function(i){this.tiling.getAllTiles().forEach(function(t,e){t.path.fillColor=i[e%i.length]})}},{key:\"colorSuperTilesPeriodic\",value:function(i){this.tiling.getAllTiles().forEach(function(t,e){t.path.fillColor=i[Math.floor(e/4)%i.length]})}}],[{key:\"shuffle\",value:function(t){for(var e=t.length;0!==e;){var i=Math.floor(Math.random()*e),n=t[e-=1];t[e]=t[i],t[i]=n}return t}},{key:\"setTileVisibilityAnimated\",value:function(n,l,t){var s=0;return new TWEEN.Tween({last:0}).to({last:n.length-1},t).easing(TWEEN.Easing.Cubic.In).onUpdate(function(t){for(var e=Math.floor(t.last),i=s;i<=e;i+=1)n[i].setVisibility(l);s=e}).start()}}]),o}();r.MAX_ANGLE=l.default.MAX_B,r.MIN_ANGLE=l.default.MIN_B,r.Themes={RGB:[\"#ff9999\",\"#99ff99\",\"#9999ff\",\"#ff99ff\"],Spring:[\"#54678C\",\"#9BDAF2\",\"#F2C12E\",\"#F2E1C2\",\"#D95252\"],Flowers:[\"#D95B96\",\"#BABF1B\",\"#D9981E\",\"#D9751E\",\"#8C1616\"],Autumn:[\"#A62447\",\"#D9326F\",\"#525F43\",\"#6C2A35\",\"#D9936A\"],Winter:[\"#0B0340\",\"#263973\",\"#495F8C\",\"#A0CCF2\",\"#514071\"],Christmas:[\"#F2293A\",\"#F24464\",\"#678C5D\",\"#730202\",\"#BFBFBD\"]},e.exports={Durden:r,Themes:r.Themes,MIN_ANGLE:r.MIN_ANGLE,MAX_ANGLE:r.MAX_ANGLE}},{\"./tiling\":4}],2:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),i.default=void 0;var n,l=(n=t(\"./tile\"))&&n.__esModule?n:{default:n};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.tile1=new l.default(\"#ff9999\",!1,!1),this.tile2=new l.default(\"#99ff99\",!0,!1),this.tile3=new l.default(\"#9999ff\",!1,!0),this.tile4=new l.default(\"#ff99ff\",!0,!0),this.group=new paper.Group([this.tile1.path,this.tile2.path,this.tile3.path,this.tile4.path]),this.group.applyMatrix=!1}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:\"transform\",value:function(t,e){this.tile1.transform(t,e),this.tile2.copyShape(this.tile1,!1),this.tile3.copyShape(this.tile1,!1),this.tile4.copyShape(this.tile1,!1),this.tile2.path.rotate(this.tile1.vE.subtract(this.tile1.vA).getAngle()-this.tile2.vE.subtract(this.tile2.vA).getAngle()),this.tile2.path.translate(this.tile1.vA.subtract(this.tile2.vA)),this.tile3.path.rotate(this.tile1.vE.subtract(this.tile1.vD).getAngle()-this.tile3.vD.subtract(this.tile3.vC).getAngle()),this.tile3.path.translate(this.tile1.vE.subtract(this.tile3.vD)),this.tile4.path.rotate(this.tile3.vE.subtract(this.tile3.vA).getAngle()-this.tile4.vE.subtract(this.tile4.vA).getAngle()),this.tile4.path.translate(this.tile3.vA.subtract(this.tile4.vA))}},{key:\"setVisibility\",value:function(t){this.tile1.setVisibility(t),this.tile2.setVisibility(t),this.tile3.setVisibility(t),this.tile4.setVisibility(t)}},{key:\"copyShape\",value:function(t){this.tile1.copyShape(t.tile1),this.tile2.copyShape(t.tile2),this.tile3.copyShape(t.tile3),this.tile4.copyShape(t.tile4)}},{key:\"north\",get:function(){return this.group.localToParent(this.tile1.vA)}},{key:\"nne\",get:function(){return this.group.localToParent(this.tile1.vB)}},{key:\"nee\",get:function(){return this.group.localToParent(this.tile1.vC)}},{key:\"south\",get:function(){return this.group.localToParent(this.tile3.vA)}},{key:\"se\",get:function(){return this.group.localToParent(this.tile3.vB)}},{key:\"ssw\",get:function(){return this.group.localToParent(this.tile4.vB)}},{key:\"sww\",get:function(){return this.group.localToParent(this.tile4.vC)}},{key:\"east\",get:function(){return this.group.localToParent(this.tile1.vD)}},{key:\"west\",get:function(){return this.group.localToParent(this.tile2.vC)}},{key:\"nw\",get:function(){return this.group.localToParent(this.tile2.vB)}}]),t}();i.default=r},{\"./tile\":3}],3:[function(t,e,i){\"use strict\";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(i,\"__esModule\",{value:!0}),i.default=void 0;var l=function(){function l(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l),this.path=new paper.Path,this.path.closed=!0,this.path.applyMatrix=!1,this.path.scale(e?-1:1,i?-1:1),this.path.fillColor=t,this.path.strokeColor=\"#999999\",this.path.strokeWidth=1;for(var n=0;n<5;n+=1)this.path.add(new paper.Point(0,0))}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(l,[{key:\"transform\",value:function(e,t){var i=this.path.segments,n=360-2*t,l=(180-t)/2,s=2*Math.sin(t/2*Math.PI/180),r=Math.sqrt(s*s+4-2*s*2*Math.cos((n-l)*Math.PI/180)),a=[0,t,n,2*Math.asin(Math.sin((n-l)*Math.PI/180)/r*s)*180/Math.PI],o=0;[1,2,3,4].forEach(function(t){o+=180-a[t-1],i[t].point.set(i[t-1].point.add(new paper.Point({length:e,angle:o})))})}},{key:\"setStroke\",value:function(t,e){this.path.strokeWidth=t,this.path.strokeColor=e}},{key:\"setColor\",value:function(t){this.path.fillColor=t}},{key:\"setVisibility\",value:function(t){this.path.opacity=t?1:0}},{key:\"copyShape\",value:function(t,e){for(var i=!(1<arguments.length&&void 0!==e)||e,n=1;n<=4;n+=1)this.path.segments[n].point.set(t.path.segments[n].point);i&&this.path.setMatrix(t.path.getMatrix())}},{key:\"vA\",get:function(){return this.path.localToParent(this.path.segments[0].point)}},{key:\"vB\",get:function(){return this.path.localToParent(this.path.segments[1].point)}},{key:\"vC\",get:function(){return this.path.localToParent(this.path.segments[2].point)}},{key:\"vD\",get:function(){return this.path.localToParent(this.path.segments[3].point)}},{key:\"vE\",get:function(){return this.path.localToParent(this.path.segments[4].point)}}]),l}();i.default=l},{}],4:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),i.default=void 0;var n,s=(n=t(\"./supertile\"))&&n.__esModule?n:{default:n};function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function l(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l),this.n=t,this.m=e,this.superTiles=l.createMatrix(this.n,this.m);for(var i=0;i<this.n;i+=1)for(var n=0;n<this.m;n+=1)this.superTiles[i][n]=new s.default,n%2==1&&this.superTiles[i][n].group.scale(1,-1)}return function(t,e,i){e&&r(t.prototype,e),i&&r(t,i)}(l,[{key:\"transform\",value:function(t,e){var i=this.superTiles[0][0];i.transform(t,e);var n=180-i.tile4.vB.subtract(i.tile1.vC).getAngle(),l=e+i.tile2.vB.subtract(i.tile2.vA).getAngle();this.superTiles[0][0].group.rotation=n;for(var s=0;s<this.n;s+=1)for(var r=0;r<this.m;r+=1)if(0!==s||0!==r){this.superTiles[s][r].copyShape(i),this.superTiles[s][r].group.rotation=r%2==1?n+l:n;var a=[];0<s&&(r%2==1?a.push(this.superTiles[s-1][r].sww.subtract(this.superTiles[s][r].nne)):a.push(this.superTiles[s-1][r].nne.subtract(this.superTiles[s][r].sww))),0<r&&a.push(this.superTiles[s][r-1].south.subtract(this.superTiles[s][r].west)),1===a.length&&this.superTiles[s][r].group.translate(a[0]),2===a.length&&this.superTiles[s][r].group.translate(a[0].add(a[1]).multiply(.5))}}},{key:\"getAllTiles\",value:function(){var e=[];return this.superTiles.forEach(function(t){t.forEach(function(t){e.push(t.tile1),e.push(t.tile2),e.push(t.tile3),e.push(t.tile4)})}),e}},{key:\"getAllSuperTiles\",value:function(){var e=[];return this.superTiles.forEach(function(t){t.forEach(function(t){e.push(t)})}),e}}],[{key:\"createMatrix\",value:function(t,e){for(var i=[],n=0;n<t;n+=1){for(var l=[],s=0;s<e;s+=1)l.push([]);i.push(l)}return i}}]),l}();(i.default=l).MIN_B=74,l.MAX_B=156},{\"./supertile\":2}]},{},[1])(1)});\n\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(require,module,exports){\n(function (global){\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TextPoster = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Places poster-style text inside a container\n *\n * The container will be emptied of whatever children it has (which allows successive invocations).\n *\n * @param {HTMLElement} container\n *  A block element in which to place the text.\n * @param {String} text\n *  The text to typeset\n * @param {Object} options\n *  Options:\n *    - maxLineHeight (default: 0.2) Maximum line height (as a percentage of the block's width)\n *    - minLineHeight (default: 0.044) Minimum line height (as a percentage of the block's width)\n *    - lineSpacing (default: 0) Space, in pixels, to place between lines.\n */\nfunction render(container, text) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var defaultOptions = {\n    maxLineHeight: 0.2,\n    minLineHeight: 0.044,\n    lineSpacing: 0\n  };\n\n  var _Object$assign = Object.assign({}, defaultOptions, options),\n      maxLineHeight = _Object$assign.maxLineHeight,\n      minLineHeight = _Object$assign.minLineHeight,\n      lineSpacing = _Object$assign.lineSpacing; // Clear the container\n\n\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n\n  var lineContainer = document.createElement('div');\n  lineContainer.classList.add('line-container');\n  container.append(lineContainer);\n  var lastHeight = 0;\n  var lines = text.split('\\n').filter(function (each) {\n    return each.length > 0;\n  });\n  lines.forEach(function (line) {\n    var lineText = line;\n    var smallText = false; // Check for escape characters\n\n    if (line.trim().substr(0, 2) === '@@') {\n      lineText = line.trim().substr(2).trim();\n      smallText = true;\n    }\n\n    if (lineText.length > 0) {\n      var words = lineText.split(' ');\n      var fromWord = 0;\n      var toWord = 0;\n\n      while (fromWord < words.length) {\n        var lineElement = document.createElement('div');\n        lineElement.classList.add('line');\n        lineContainer.append(lineElement);\n        var sizeFactor = 1; // Add words until the line's height becomes smaller than the minimum\n\n        do {\n          toWord += 1;\n          lineElement.textContent = words.slice(fromWord, toWord).join(' ');\n          sizeFactor = container.clientWidth / lineElement.clientWidth;\n        } while (toWord <= words.length && lineElement.clientHeight * sizeFactor / container.clientHeight >= minLineHeight); // If we exited the loop because the height became less than the minimum\n\n\n        if (toWord <= words.length) {\n          // If possible remove one word to go back above the minimum\n          if (toWord > fromWord + 1) {\n            toWord -= 1;\n          }\n        }\n\n        lineElement.textContent = words.slice(fromWord, toWord).join(' ');\n\n        if (smallText) {\n          // Make the line the minimum height unless it doesn't fit and it needs shrinking\n          // (this happens with single words that are very long)\n          sizeFactor = Math.min(container.clientWidth / lineElement.clientWidth, minLineHeight * container.clientHeight / lineElement.clientHeight);\n        } else {\n          // Make the line the full width unless it goes over the max height and it needs\n          // shrinking\n          sizeFactor = Math.min(container.clientWidth / lineElement.clientWidth, maxLineHeight * container.clientHeight / lineElement.clientHeight);\n        } // Center the line\n\n\n        lineElement.style.left = \"\".concat((container.clientWidth - lineElement.clientWidth * sizeFactor) / 2, \"px\");\n        lineElement.style.transform = \"scale(\".concat(sizeFactor, \")\");\n        lineElement.style.top = \"\".concat(lastHeight, \"px\");\n        lastHeight += lineElement.clientHeight * sizeFactor + lineSpacing;\n        fromWord = toWord;\n      }\n    }\n  });\n  lineContainer.style.top = \"\".concat((container.clientHeight - lastHeight) / 2, \"px\");\n}\n\nmodule.exports = {\n  render: render\n};\n\n},{}]},{},[1])(1)\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AnnouncerFrame =\n/*#__PURE__*/\nfunction () {\n  function AnnouncerFrame() {\n    _classCallCheck(this, AnnouncerFrame);\n\n    this.busy = false;\n    this.visible = false;\n    this.wrapper = null;\n    this.iframe = null;\n    this.hideTimeout = null;\n  }\n\n  _createClass(AnnouncerFrame, [{\n    key: \"show\",\n    value: function show(announcerSrc, text) {\n      var _this = this;\n\n      var userOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (this.busy || this.visible) {\n        return;\n      }\n\n      this.busy = true;\n      var defaultOptions = {\n        duration: 60000\n      };\n      var options = Object.assign({}, defaultOptions, userOptions);\n      this.visible = true;\n      this.wrapper = window.document.createElement('div');\n      this.wrapper.classList.add('content-slider-announcer-wrapper');\n      this.iframe = window.document.createElement('iframe');\n      this.iframe.setAttribute('src', announcerSrc);\n      this.iframe.setAttribute('allowtransparency', 'true');\n      this.iframe.addEventListener('load', function () {\n        _this.iframe.contentWindow.postMessage({\n          type: 'announce',\n          text: text,\n          options: userOptions\n        });\n      });\n      var eventMask = window.document.createElement('div');\n      eventMask.classList.add('content-slider-announcer-eventMask');\n      eventMask.addEventListener('click', function () {\n        _this.hide();\n      });\n      this.wrapper.append(this.iframe);\n      this.wrapper.append(eventMask);\n      window.document.querySelector('body').append(this.wrapper);\n      this.hideTimeout = setTimeout(function () {\n        _this.hide();\n\n        _this.clearTimeoutTimer();\n      }, options.duration);\n      this.busy = false;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this2 = this;\n\n      if (this.busy || !this.visible) {\n        return;\n      }\n\n      this.busy = true;\n      this.iframe.contentWindow.postMessage({\n        type: 'hide',\n        duration: AnnouncerFrame.HIDE_DELAY\n      });\n      setTimeout(function () {\n        _this2.destroyFrame();\n\n        _this2.busy = false;\n      }, AnnouncerFrame.HIDE_DELAY);\n    }\n  }, {\n    key: \"hideNow\",\n    value: function hideNow() {\n      if (this.busy || !this.visible) {\n        return;\n      }\n\n      this.busy = true;\n      this.destroyFrame();\n      this.busy = false;\n    }\n  }, {\n    key: \"destroyFrame\",\n    value: function destroyFrame() {\n      this.clearTimeoutTimer();\n      this.wrapper.remove();\n      this.wrapper = null;\n      this.iframe = null;\n      this.visible = false;\n    }\n  }, {\n    key: \"clearTimeoutTimer\",\n    value: function clearTimeoutTimer() {\n      if (this.hideTimeout !== null) {\n        clearTimeout(this.hideTimeout);\n        this.hideTimeout = null;\n      }\n    }\n  }]);\n\n  return AnnouncerFrame;\n}();\n\nexports[\"default\"] = AnnouncerFrame;\nAnnouncerFrame.HIDE_DELAY = 2000;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _durden = _interopRequireDefault(require(\"@imaginary-maths/durden\"));\n\nvar _textPoster = _interopRequireDefault(require(\"@imaginary-maths/text-poster\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Announcer =\n/*#__PURE__*/\nfunction () {\n  function Announcer() {\n    _classCallCheck(this, Announcer);\n\n    this.container = window.document.createElement('div');\n    this.container.classList.add('content-slider-announcement');\n    window.document.querySelector('body').append(this.container);\n    this.bgContainer = window.document.createElement('div');\n    this.bgContainer.classList.add('content-slider-announcement-bg');\n    this.container.append(this.bgContainer);\n    this.txtContainer = window.document.createElement('div');\n    this.txtContainer.classList.add('content-slider-announcement-txt');\n    this.container.append(this.txtContainer);\n    this.tiler = null;\n    this.runningTween = null;\n  }\n\n  _createClass(Announcer, [{\n    key: \"announce\",\n    value: function announce(text) {\n      var _this = this;\n\n      var userOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var defaultOptions = {\n        tilesAcross: 8,\n        tilesVertically: 20,\n        startAngle: 150,\n        endAngle: _durden[\"default\"].MIN_ANGLE,\n        fadeInDuration: 5000,\n        transformLoopDuration: 30000,\n        strokeWidth: 1,\n        strokeColor: '#000000',\n        themes: []\n      };\n      var options = Object.assign({}, defaultOptions, userOptions);\n      this.tiler = new _durden[\"default\"].Durden(this.bgContainer, options.tilesAcross, options.tilesVertically, options.startAngle);\n      this.tiler.setStroke(options.strokeWidth, options.strokeColor); // Color randomly with a default in case selecting a theme fails\n      // because it was overriden with something in the wrong format\n\n      this.tiler.colorTilesPeriodic(Announcer.DEFAULT_COLORS);\n      this.selectTheme(options);\n      this.tiler.setTileVisibility(false);\n      this.runningTween = this.tiler.showTilesRandom(options.fadeInDuration).onComplete(function () {\n        _this.runningTween = _this.tiler.transformTilesAnimated(options.transformLoopDuration, options.startAngle, options.endAngle, true);\n\n        _textPoster[\"default\"].render(_this.txtContainer, text);\n\n        setTimeout(function () {\n          _this.txtContainer.classList.add('visible');\n        }, 0);\n      });\n    }\n  }, {\n    key: \"selectTheme\",\n    value: function selectTheme(options) {\n      var themes = options.themes;\n\n      if (themes.length > 0) {\n        var themeName = themes[Math.floor(Math.random() * themes.length)];\n        var theme = options[\"theme_\".concat(themeName)];\n\n        if (theme && theme.mode && theme.colors instanceof Array) {\n          if (theme.mode === 'random-supertile') {\n            this.tiler.colorSuperTilesRandom(theme.colors);\n          } else if (theme.mode === 'periodic-supertile') {\n            this.tiler.colorSuperTilesPeriodic(theme.colors);\n          } else if (theme.mode === 'periodic') {\n            this.tiler.colorTilesPeriodic(theme.colors);\n          } else {\n            this.tiler.colorTilesRandom(theme.colors);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2000;\n\n      if (this.runningTween != null) {\n        this.runningTween.stop();\n      }\n\n      this.txtContainer.classList.remove('visible');\n      this.runningTween = this.tiler.hideSuperTilesOrdered(duration);\n    }\n  }]);\n\n  return Announcer;\n}();\n\nexports[\"default\"] = Announcer;\nAnnouncer.DEFAULT_COLORS = ['#BF1736', '#0D1440', '#1438A6', '#0E2773'];\n\n},{\"@imaginary-maths/durden\":1,\"@imaginary-maths/text-poster\":2}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _announcer = _interopRequireDefault(require(\"./announcer\"));\n\nvar _announcerFrame = _interopRequireDefault(require(\"./announcer-frame\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar announcerFrame = null;\n/**\n * Show an announcement on screen\n *\n * @param {string} announcerSrc\n *  URL of the index.html file of content-slider-announcer\n * @param {string} text\n *  Text to display\n * @param {object} options\n *  Options (see README)\n */\n\nfunction createAnnouncement(announcerSrc, text) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (announcerFrame === null) {\n    announcerFrame = new _announcerFrame[\"default\"]();\n  }\n\n  announcerFrame.show(announcerSrc, text, options);\n}\n/**\n * Hide the announcement\n */\n\n\nfunction hideAnnouncement() {\n  if (announcerFrame !== null) {\n    announcerFrame.hide();\n  }\n}\n/**\n * Hide the announcement without animations / delay\n */\n\n\nfunction hideAnnouncementNow() {\n  if (announcerFrame !== null) {\n    announcerFrame.hideNow();\n  }\n}\n/**\n * Does initialization in the frame used to show the announcements\n *\n * This method is called within the framed index.html. It's not really\n * part of the public interface.\n */\n\n\nfunction initFrame() {\n  var announcer = new _announcer[\"default\"]();\n  window.addEventListener('message', function (event) {\n    var type = event.data.type;\n\n    if (type === 'announce') {\n      var _event$data = event.data,\n          text = _event$data.text,\n          options = _event$data.options;\n      announcer.announce(text, options);\n    } else if (type === 'hide') {\n      var duration = event.data.duration;\n      announcer.hide(duration);\n    }\n  }, false);\n}\n\nmodule.exports = {\n  initFrame: initFrame,\n  createAnnouncement: createAnnouncement,\n  hideAnnouncement: hideAnnouncement,\n  hideAnnouncementNow: hideAnnouncementNow\n};\n\n},{\"./announcer\":4,\"./announcer-frame\":3}]},{},[5])(5)\n});\n"]}